"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[9767],{3058:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>l,contentTitle:()=>s,default:()=>d,frontMatter:()=>t,metadata:()=>a,toc:()=>c});const a=JSON.parse('{"id":"The-Robotic-Nervous-System/Launch-Files-Parameters/launch-files-parameters","title":"Launch Files and Parameter Management","description":"Introduction","source":"@site/docs/02-The-Robotic-Nervous-System/06-Launch-Files-Parameters/index.md","sourceDirName":"02-The-Robotic-Nervous-System/06-Launch-Files-Parameters","slug":"/module-02/launch-files-parameters","permalink":"/physical-ai-hackathon/docs/module-02/launch-files-parameters","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-The-Robotic-Nervous-System/06-Launch-Files-Parameters/index.md","tags":[],"version":"current","frontMatter":{"id":"launch-files-parameters","title":"Launch Files and Parameter Management","slug":"/module-02/launch-files-parameters"},"sidebar":"tutorialSidebar","previous":{"title":"Building ROS 2 Packages with Python","permalink":"/physical-ai-hackathon/docs/module-02/building-ros2-packages"},"next":{"title":"Bridging Python AI Agents to ROS Controllers","permalink":"/physical-ai-hackathon/docs/module-02/python-agents-ros-bridge"}}');var o=r(4848),i=r(8453);const t={id:"launch-files-parameters",title:"Launch Files and Parameter Management",slug:"/module-02/launch-files-parameters"},s="Launch Files and Parameter Management",l={},c=[{value:"Introduction",id:"introduction",level:2},{value:"Why Launch Files Matter",id:"why-launch-files-matter",level:2},{value:"Python Launch Files (Recommended)",id:"python-launch-files-recommended",level:2},{value:"Basic Launch File Structure",id:"basic-launch-file-structure",level:3},{value:"Running the Launch File",id:"running-the-launch-file",level:3},{value:"Launch File Components",id:"launch-file-components",level:2},{value:"1. Nodes",id:"1-nodes",level:3},{value:"2. Launch Arguments",id:"2-launch-arguments",level:3},{value:"3. Including Other Launch Files",id:"3-including-other-launch-files",level:3},{value:"4. Conditional Execution",id:"4-conditional-execution",level:3},{value:"Complete Humanoid Robot Launch File",id:"complete-humanoid-robot-launch-file",level:2},{value:"Parameter Management",id:"parameter-management",level:2},{value:"1. Declaring Parameters in Nodes",id:"1-declaring-parameters-in-nodes",level:3},{value:"2. YAML Parameter Files",id:"2-yaml-parameter-files",level:3},{value:"3. Loading Parameters in Launch Files",id:"3-loading-parameters-in-launch-files",level:3},{value:"4. Runtime Parameter Management",id:"4-runtime-parameter-management",level:3},{value:"Advanced Launch Techniques",id:"advanced-launch-techniques",level:2},{value:"1. Event Handlers",id:"1-event-handlers",level:3},{value:"2. Composable Nodes (for performance)",id:"2-composable-nodes-for-performance",level:3},{value:"3. Environment Variables",id:"3-environment-variables",level:3},{value:"Multi-Robot Launch Example",id:"multi-robot-launch-example",level:2},{value:"Debugging Launch Files",id:"debugging-launch-files",level:2},{value:"1. Print Launch Configuration",id:"1-print-launch-configuration",level:3},{value:"2. Verbose Output",id:"2-verbose-output",level:3},{value:"Best Practices",id:"best-practices",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function u(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsx)(n.header,{children:(0,o.jsx)(n.h1,{id:"launch-files-and-parameter-management",children:"Launch Files and Parameter Management"})}),"\n",(0,o.jsx)(n.h2,{id:"introduction",children:"Introduction"}),"\n",(0,o.jsxs)(n.p,{children:[(0,o.jsx)(n.strong,{children:"Launch files"})," in ROS 2 allow you to start multiple nodes, set parameters, and configure your entire robot system with a single command. ",(0,o.jsx)(n.strong,{children:"Parameters"})," provide runtime configuration without modifying code. Together, they enable flexible, reusable robot applications."]}),"\n",(0,o.jsx)(n.h2,{id:"why-launch-files-matter",children:"Why Launch Files Matter"}),"\n",(0,o.jsx)(n.p,{children:"Instead of running nodes individually:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 run package1 node1\r\nros2 run package2 node2 --ros-args -p param:=value\r\nros2 run package3 node3\n"})}),"\n",(0,o.jsx)(n.p,{children:"Use a single launch file:"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_package robot.launch.py\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"python-launch-files-recommended",children:"Python Launch Files (Recommended)"}),"\n",(0,o.jsx)(n.p,{children:"ROS 2 uses Python-based launch files for maximum flexibility."}),"\n",(0,o.jsx)(n.h3,{id:"basic-launch-file-structure",children:"Basic Launch File Structure"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"launch/basic_robot.launch.py"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        Node(\r\n            package='my_robot_package',\r\n            executable='sensor_node',\r\n            name='sensor_node',\r\n            output='screen'\r\n        ),\r\n        Node(\r\n            package='my_robot_package',\r\n            executable='controller_node',\r\n            name='controller_node',\r\n            output='screen'\r\n        ),\r\n    ])\n"})}),"\n",(0,o.jsx)(n.h3,{id:"running-the-launch-file",children:"Running the Launch File"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_package basic_robot.launch.py\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"launch-file-components",children:"Launch File Components"}),"\n",(0,o.jsx)(n.h3,{id:"1-nodes",children:"1. Nodes"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"Node(\r\n    package='package_name',           # Package containing the executable\r\n    executable='node_executable',     # Executable name from setup.py\r\n    name='custom_node_name',          # Override node name\r\n    namespace='robot1',               # Node namespace\r\n    output='screen',                  # 'screen' or 'log'\r\n    parameters=[{'param': value}],    # Node parameters\r\n    remappings=[('old_topic', 'new_topic')],  # Topic remapping\r\n    arguments=['--arg1', 'value1'],   # Command-line arguments\r\n)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-launch-arguments",children:"2. Launch Arguments"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch.actions import DeclareLaunchArgument\r\nfrom launch.substitutions import LaunchConfiguration\r\n\r\ndef generate_launch_description():\r\n    # Declare argument\r\n    use_sim_time_arg = DeclareLaunchArgument(\r\n        'use_sim_time',\r\n        default_value='false',\r\n        description='Use simulation time if true'\r\n    )\r\n    \r\n    # Use argument value\r\n    use_sim_time = LaunchConfiguration('use_sim_time')\r\n    \r\n    return LaunchDescription([\r\n        use_sim_time_arg,\r\n        Node(\r\n            package='my_robot_package',\r\n            executable='sensor_node',\r\n            parameters=[{'use_sim_time': use_sim_time}]\r\n        ),\r\n    ])\n"})}),"\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Usage:"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"ros2 launch my_robot_package robot.launch.py use_sim_time:=true\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-including-other-launch-files",children:"3. Including Other Launch Files"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch.actions import IncludeLaunchDescription\r\nfrom launch.launch_description_sources import PythonLaunchDescriptionSource\r\nfrom ament_index_python.packages import get_package_share_directory\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    # Get package directory\r\n    pkg_dir = get_package_share_directory('other_package')\r\n    \r\n    # Include another launch file\r\n    other_launch = IncludeLaunchDescription(\r\n        PythonLaunchDescriptionSource(\r\n            os.path.join(pkg_dir, 'launch', 'other.launch.py')\r\n        ),\r\n        launch_arguments={\r\n            'param1': 'value1',\r\n            'param2': 'value2'\r\n        }.items()\r\n    )\r\n    \r\n    return LaunchDescription([other_launch])\n"})}),"\n",(0,o.jsx)(n.h3,{id:"4-conditional-execution",children:"4. Conditional Execution"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch.conditions import IfCondition, UnlessCondition\r\nfrom launch.substitutions import LaunchConfiguration\r\n\r\ndef generate_launch_description():\r\n    use_rviz = LaunchConfiguration('use_rviz', default='true')\r\n    \r\n    return LaunchDescription([\r\n        # Only launch if use_rviz is true\r\n        Node(\r\n            package='rviz2',\r\n            executable='rviz2',\r\n            name='rviz2',\r\n            condition=IfCondition(use_rviz)\r\n        ),\r\n        \r\n        # Only launch if use_rviz is false\r\n        Node(\r\n            package='my_package',\r\n            executable='headless_node',\r\n            condition=UnlessCondition(use_rviz)\r\n        ),\r\n    ])\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"complete-humanoid-robot-launch-file",children:"Complete Humanoid Robot Launch File"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch import LaunchDescription\r\nfrom launch.actions import DeclareLaunchArgument, IncludeLaunchDescription, TimerAction\r\nfrom launch.conditions import IfCondition\r\nfrom launch.substitutions import LaunchConfiguration, PathJoinSubstitution, Command\r\nfrom launch_ros.actions import Node\r\nfrom launch_ros.substitutions import FindPackageShare\r\nimport os\r\n\r\ndef generate_launch_description():\r\n    # Package directories\r\n    pkg_share = FindPackageShare('humanoid_robot').find('humanoid_robot')\r\n    \r\n    # Launch arguments\r\n    use_sim_time = LaunchConfiguration('use_sim_time', default='false')\r\n    use_rviz = LaunchConfiguration('use_rviz', default='true')\r\n    robot_name = LaunchConfiguration('robot_name', default='humanoid_01')\r\n    \r\n    # File paths\r\n    urdf_file = PathJoinSubstitution([pkg_share, 'urdf', 'humanoid.urdf.xacro'])\r\n    rviz_config = PathJoinSubstitution([pkg_share, 'rviz', 'humanoid.rviz'])\r\n    params_file = PathJoinSubstitution([pkg_share, 'config', 'robot_params.yaml'])\r\n    \r\n    return LaunchDescription([\r\n        # Declare arguments\r\n        DeclareLaunchArgument(\r\n            'use_sim_time',\r\n            default_value='false',\r\n            description='Use simulation time'\r\n        ),\r\n        DeclareLaunchArgument(\r\n            'use_rviz',\r\n            default_value='true',\r\n            description='Launch RViz for visualization'\r\n        ),\r\n        DeclareLaunchArgument(\r\n            'robot_name',\r\n            default_value='humanoid_01',\r\n            description='Robot namespace'\r\n        ),\r\n        \r\n        # Robot State Publisher (publishes TF from URDF)\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            name='robot_state_publisher',\r\n            namespace=robot_name,\r\n            output='screen',\r\n            parameters=[{\r\n                'robot_description': Command(['xacro ', urdf_file]),\r\n                'use_sim_time': use_sim_time\r\n            }]\r\n        ),\r\n        \r\n        # Joint State Publisher (for testing without hardware)\r\n        Node(\r\n            package='joint_state_publisher_gui',\r\n            executable='joint_state_publisher_gui',\r\n            name='joint_state_publisher_gui',\r\n            namespace=robot_name,\r\n            condition=IfCondition(LaunchConfiguration('use_gui', default='false'))\r\n        ),\r\n        \r\n        # IMU Driver\r\n        Node(\r\n            package='humanoid_robot',\r\n            executable='imu_driver',\r\n            name='imu_driver',\r\n            namespace=robot_name,\r\n            output='screen',\r\n            parameters=[params_file, {'use_sim_time': use_sim_time}]\r\n        ),\r\n        \r\n        # Sensor Processor\r\n        Node(\r\n            package='humanoid_robot',\r\n            executable='sensor_processor',\r\n            name='sensor_processor',\r\n            namespace=robot_name,\r\n            output='screen',\r\n            parameters=[params_file]\r\n        ),\r\n        \r\n        # Balance Controller (delayed start to wait for sensors)\r\n        TimerAction(\r\n            period=2.0,\r\n            actions=[\r\n                Node(\r\n                    package='humanoid_robot',\r\n                    executable='balance_controller',\r\n                    name='balance_controller',\r\n                    namespace=robot_name,\r\n                    output='screen',\r\n                    parameters=[params_file]\r\n                )\r\n            ]\r\n        ),\r\n        \r\n        # RViz (conditional)\r\n        Node(\r\n            package='rviz2',\r\n            executable='rviz2',\r\n            name='rviz2',\r\n            arguments=['-d', rviz_config],\r\n            condition=IfCondition(use_rviz),\r\n            parameters=[{'use_sim_time': use_sim_time}]\r\n        ),\r\n    ])\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"parameter-management",children:"Parameter Management"}),"\n",(0,o.jsx)(n.h3,{id:"1-declaring-parameters-in-nodes",children:"1. Declaring Parameters in Nodes"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"class MyNode(Node):\r\n    def __init__(self):\r\n        super().__init__('my_node')\r\n        \r\n        # Declare parameters with defaults and descriptions\r\n        self.declare_parameter('max_velocity', 1.0, \r\n            descriptor=ParameterDescriptor(\r\n                description='Maximum velocity in m/s',\r\n                type=ParameterType.PARAMETER_DOUBLE,\r\n                read_only=False\r\n            )\r\n        )\r\n        \r\n        self.declare_parameter('robot_name', 'robot_01')\r\n        self.declare_parameter('enable_safety', True)\r\n        \r\n        # Get parameter values\r\n        self.max_vel = self.get_parameter('max_velocity').value\r\n        self.robot_name = self.get_parameter('robot_name').value\r\n        self.safety_enabled = self.get_parameter('enable_safety').value\r\n        \r\n        # Add parameter callback for runtime changes\r\n        self.add_on_set_parameters_callback(self.parameter_callback)\r\n    \r\n    def parameter_callback(self, params):\r\n        \"\"\"Called when parameters are changed at runtime\"\"\"\r\n        for param in params:\r\n            if param.name == 'max_velocity':\r\n                self.max_vel = param.value\r\n                self.get_logger().info(f'Max velocity updated to {param.value}')\r\n        return SetParametersResult(successful=True)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-yaml-parameter-files",children:"2. YAML Parameter Files"}),"\n",(0,o.jsxs)(n.p,{children:["Create ",(0,o.jsx)(n.code,{children:"config/robot_params.yaml"}),":"]}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-yaml",children:'# IMU Driver Parameters\r\nimu_driver:\r\n  ros__parameters:\r\n    port: "/dev/ttyUSB0"\r\n    baud_rate: 115200\r\n    frame_id: "imu_link"\r\n    publish_rate: 100.0\r\n    \r\n    # Calibration offsets\r\n    gyro_offset_x: 0.001\r\n    gyro_offset_y: -0.002\r\n    gyro_offset_z: 0.0\r\n    \r\n    accel_offset_x: 0.0\r\n    accel_offset_y: 0.0\r\n    accel_offset_z: 0.0\r\n\r\n# Sensor Processor Parameters\r\nsensor_processor:\r\n  ros__parameters:\r\n    window_size: 10\r\n    max_angular_velocity: 5.0\r\n    anomaly_threshold: 3.0\r\n    filter_type: "moving_average"  # or "kalman", "lowpass"\r\n\r\n# Balance Controller Parameters\r\nbalance_controller:\r\n  ros__parameters:\r\n    # PID gains\r\n    kp_pitch: 0.5\r\n    ki_pitch: 0.01\r\n    kd_pitch: 0.1\r\n    \r\n    kp_roll: 0.5\r\n    ki_roll: 0.01\r\n    kd_roll: 0.1\r\n    \r\n    # Control limits\r\n    max_torque: 50.0\r\n    control_rate: 200.0\r\n    \r\n    # Safety\r\n    enable_safety_limits: true\r\n    max_tilt_angle: 0.5  # radians\n'})}),"\n",(0,o.jsx)(n.h3,{id:"3-loading-parameters-in-launch-files",children:"3. Loading Parameters in Launch Files"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Method 1: From YAML file\r\nNode(\r\n    package='my_package',\r\n    executable='my_node',\r\n    parameters=[params_file]\r\n)\r\n\r\n# Method 2: Inline parameters\r\nNode(\r\n    package='my_package',\r\n    executable='my_node',\r\n    parameters=[{\r\n        'param1': 'value1',\r\n        'param2': 42,\r\n        'param3': True\r\n    }]\r\n)\r\n\r\n# Method 3: Mix of file and inline\r\nNode(\r\n    package='my_package',\r\n    executable='my_node',\r\n    parameters=[\r\n        params_file,\r\n        {'override_param': 'new_value'}\r\n    ]\r\n)\r\n\r\n# Method 4: Using launch arguments\r\nNode(\r\n    package='my_package',\r\n    executable='my_node',\r\n    parameters=[{\r\n        'use_sim_time': use_sim_time,\r\n        'robot_name': robot_name\r\n    }]\r\n)\n"})}),"\n",(0,o.jsx)(n.h3,{id:"4-runtime-parameter-management",children:"4. Runtime Parameter Management"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# List all parameters for a node\r\nros2 param list /my_node\r\n\r\n# Get parameter value\r\nros2 param get /my_node max_velocity\r\n\r\n# Set parameter value\r\nros2 param set /my_node max_velocity 2.0\r\n\r\n# Dump all parameters to file\r\nros2 param dump /my_node > my_node_params.yaml\r\n\r\n# Load parameters from file\r\nros2 param load /my_node my_node_params.yaml\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"advanced-launch-techniques",children:"Advanced Launch Techniques"}),"\n",(0,o.jsx)(n.h3,{id:"1-event-handlers",children:"1. Event Handlers"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch.event_handlers import OnProcessStart, OnProcessExit\r\nfrom launch.actions import RegisterEventHandler, EmitEvent\r\nfrom launch.events import Shutdown\r\n\r\ndef generate_launch_description():\r\n    sensor_node = Node(\r\n        package='my_package',\r\n        executable='sensor_node',\r\n        name='sensor_node'\r\n    )\r\n    \r\n    controller_node = Node(\r\n        package='my_package',\r\n        executable='controller_node',\r\n        name='controller_node'\r\n    )\r\n    \r\n    return LaunchDescription([\r\n        sensor_node,\r\n        \r\n        # Start controller only after sensor node starts\r\n        RegisterEventHandler(\r\n            OnProcessStart(\r\n                target_action=sensor_node,\r\n                on_start=[controller_node]\r\n            )\r\n        ),\r\n        \r\n        # Shutdown everything if sensor node exits\r\n        RegisterEventHandler(\r\n            OnProcessExit(\r\n                target_action=sensor_node,\r\n                on_exit=[EmitEvent(event=Shutdown())]\r\n            )\r\n        ),\r\n    ])\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-composable-nodes-for-performance",children:"2. Composable Nodes (for performance)"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch_ros.actions import ComposableNodeContainer\r\nfrom launch_ros.descriptions import ComposableNode\r\n\r\ndef generate_launch_description():\r\n    container = ComposableNodeContainer(\r\n        name='my_container',\r\n        namespace='',\r\n        package='rclcpp_components',\r\n        executable='component_container',\r\n        composable_node_descriptions=[\r\n            ComposableNode(\r\n                package='my_package',\r\n                plugin='my_package::SensorNode',\r\n                name='sensor_node',\r\n                parameters=[{'param': 'value'}]\r\n            ),\r\n            ComposableNode(\r\n                package='my_package',\r\n                plugin='my_package::ProcessorNode',\r\n                name='processor_node'\r\n            ),\r\n        ],\r\n        output='screen',\r\n    )\r\n    \r\n    return LaunchDescription([container])\n"})}),"\n",(0,o.jsx)(n.h3,{id:"3-environment-variables",children:"3. Environment Variables"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch.actions import SetEnvironmentVariable\r\n\r\ndef generate_launch_description():\r\n    return LaunchDescription([\r\n        SetEnvironmentVariable('ROS_DOMAIN_ID', '42'),\r\n        SetEnvironmentVariable('RCUTILS_CONSOLE_OUTPUT_FORMAT', \r\n                              '[{severity}] [{name}]: {message}'),\r\n        \r\n        # Your nodes here\r\n    ])\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"multi-robot-launch-example",children:"Multi-Robot Launch Example"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"def generate_launch_description():\r\n    robots = []\r\n    \r\n    # Launch 3 robots with different namespaces\r\n    for i in range(1, 4):\r\n        robot_name = f'robot_{i}'\r\n        \r\n        robot_nodes = [\r\n            Node(\r\n                package='humanoid_robot',\r\n                executable='sensor_node',\r\n                name='sensor_node',\r\n                namespace=robot_name,\r\n                parameters=[{\r\n                    'robot_id': i,\r\n                    'x_offset': i * 2.0\r\n                }]\r\n            ),\r\n            Node(\r\n                package='humanoid_robot',\r\n                executable='controller',\r\n                name='controller',\r\n                namespace=robot_name,\r\n                parameters=[{'robot_id': i}]\r\n            ),\r\n        ]\r\n        \r\n        robots.extend(robot_nodes)\r\n    \r\n    return LaunchDescription(robots)\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"debugging-launch-files",children:"Debugging Launch Files"}),"\n",(0,o.jsx)(n.h3,{id:"1-print-launch-configuration",children:"1. Print Launch Configuration"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"from launch.actions import LogInfo\r\n\r\ndef generate_launch_description():\r\n    robot_name = LaunchConfiguration('robot_name', default='robot_01')\r\n    \r\n    return LaunchDescription([\r\n        LogInfo(msg=['Robot name: ', robot_name]),\r\n        \r\n        # Your nodes...\r\n    ])\n"})}),"\n",(0,o.jsx)(n.h3,{id:"2-verbose-output",children:"2. Verbose Output"}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-bash",children:"# Run with verbose output\r\nros2 launch my_package robot.launch.py --debug\r\n\r\n# Show launch file structure\r\nros2 launch my_package robot.launch.py --show-args\r\nros2 launch my_package robot.launch.py --show-all-subprocesses-output\n"})}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"best-practices",children:"Best Practices"}),"\n",(0,o.jsx)(n.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Use descriptive argument names"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"DeclareLaunchArgument('use_sim_time', ...)  # Good\r\nDeclareLaunchArgument('sim', ...)           # Bad\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Provide default values and descriptions"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"DeclareLaunchArgument(\r\n    'max_velocity',\r\n    default_value='1.0',\r\n    description='Maximum robot velocity in m/s'\r\n)\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Organize parameters in YAML files"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Easier to modify without changing code"}),"\n",(0,o.jsx)(n.li,{children:"Version control friendly"}),"\n",(0,o.jsx)(n.li,{children:"Reusable across different robots"}),"\n"]}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Use namespaces for multi-robot systems"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"namespace='robot_01'\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Add parameter validation in nodes"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"if self.max_vel <= 0:\r\n    raise ValueError('max_velocity must be positive')\n"})}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,o.jsxs)(n.ol,{children:["\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Don't hardcode values in launch files"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Bad\r\nparameters=[{'port': '/dev/ttyUSB0'}]\r\n\r\n# Good\r\nparameters=[params_file]\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Don't ignore parameter types"})}),"\n",(0,o.jsx)(n.pre,{children:(0,o.jsx)(n.code,{className:"language-python",children:"# Bad: passing string when int expected\r\nparameters=[{'count': '10'}]\r\n\r\n# Good\r\nparameters=[{'count': 10}]\n"})}),"\n"]}),"\n",(0,o.jsxs)(n.li,{children:["\n",(0,o.jsx)(n.p,{children:(0,o.jsx)(n.strong,{children:"Don't launch too many nodes in one file"})}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Split into multiple launch files"}),"\n",(0,o.jsx)(n.li,{children:"Use IncludeLaunchDescription"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"summary",children:"Summary"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:"Launch files start multiple nodes with single command"}),"\n",(0,o.jsx)(n.li,{children:"Python launch files provide maximum flexibility"}),"\n",(0,o.jsx)(n.li,{children:"Parameters enable runtime configuration"}),"\n",(0,o.jsx)(n.li,{children:"YAML files organize parameters cleanly"}),"\n",(0,o.jsx)(n.li,{children:"Event handlers coordinate node startup"}),"\n",(0,o.jsx)(n.li,{children:"Namespaces enable multi-robot systems"}),"\n"]}),"\n",(0,o.jsx)(n.p,{children:"In the next chapter, we'll learn how to bridge Python AI agents with ROS 2 controllers for intelligent robot behavior."}),"\n",(0,o.jsx)(n.hr,{}),"\n",(0,o.jsx)(n.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,o.jsxs)(n.ul,{children:["\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Tutorials/Intermediate/Launch/Launch-Main.html",children:"ROS 2 Launch Documentation"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://docs.ros.org/en/humble/Concepts/About-ROS-2-Parameters.html",children:"ROS 2 Parameters"})}),"\n",(0,o.jsx)(n.li,{children:(0,o.jsx)(n.a,{href:"https://github.com/ros2/launch_ros/tree/humble/launch_ros/examples",children:"Launch File Examples"})}),"\n"]})]})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,o.jsx)(n,{...e,children:(0,o.jsx)(u,{...e})}):u(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>t,x:()=>s});var a=r(6540);const o={},i=a.createContext(o);function t(e){const n=a.useContext(i);return a.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:t(e.components),a.createElement(i.Provider,{value:n},e.children)}}}]);