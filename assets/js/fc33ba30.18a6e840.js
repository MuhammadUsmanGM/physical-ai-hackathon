"use strict";(globalThis.webpackChunkbook=globalThis.webpackChunkbook||[]).push([[6534],{8298:(n,r,e)=>{e.r(r),e.d(r,{assets:()=>a,contentTitle:()=>t,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"The-Robotic-Nervous-System/URDF-for-Humanoids/urdf-for-humanoids","title":"URDF for Humanoid Robots","description":"Introduction","source":"@site/docs/02-The-Robotic-Nervous-System/04-URDF-for-Humanoids/index.md","sourceDirName":"02-The-Robotic-Nervous-System/04-URDF-for-Humanoids","slug":"/module-02/urdf-for-humanoids","permalink":"/physical-ai-hackathon/docs/module-02/urdf-for-humanoids","draft":false,"unlisted":false,"editUrl":"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/02-The-Robotic-Nervous-System/04-URDF-for-Humanoids/index.md","tags":[],"version":"current","frontMatter":{"id":"urdf-for-humanoids","title":"URDF for Humanoid Robots","slug":"/module-02/urdf-for-humanoids"},"sidebar":"tutorialSidebar","previous":{"title":"ROS 2 Communication Patterns Deep Dive","permalink":"/physical-ai-hackathon/docs/module-02/ros2-communication-patterns"},"next":{"title":"Building ROS 2 Packages with Python","permalink":"/physical-ai-hackathon/docs/module-02/building-ros2-packages"}}');var l=e(4848),s=e(8453);const o={id:"urdf-for-humanoids",title:"URDF for Humanoid Robots",slug:"/module-02/urdf-for-humanoids"},t="URDF for Humanoid Robots",a={},d=[{value:"Introduction",id:"introduction",level:2},{value:"URDF Structure Overview",id:"urdf-structure-overview",level:2},{value:"Core URDF Elements",id:"core-urdf-elements",level:2},{value:"1. Links (Rigid Bodies)",id:"1-links-rigid-bodies",level:3},{value:"2. Joints (Connections Between Links)",id:"2-joints-connections-between-links",level:3},{value:"Complete Humanoid URDF Example",id:"complete-humanoid-urdf-example",level:2},{value:"Step 1: Define the Base Link (Torso)",id:"step-1-define-the-base-link-torso",level:3},{value:"Step 2: Add Head",id:"step-2-add-head",level:3},{value:"Step 3: Add Arms (Left Arm Example)",id:"step-3-add-arms-left-arm-example",level:3},{value:"Step 4: Add Legs (Left Leg Example)",id:"step-4-add-legs-left-leg-example",level:3},{value:"Adding Sensors to URDF",id:"adding-sensors-to-urdf",level:2},{value:"Camera Sensor",id:"camera-sensor",level:3},{value:"IMU Sensor",id:"imu-sensor",level:3},{value:"Calculating Inertial Properties",id:"calculating-inertial-properties",level:2},{value:"Mass Distribution Guidelines",id:"mass-distribution-guidelines",level:3},{value:"Inertia Tensor Formulas",id:"inertia-tensor-formulas",level:3},{value:"Using Xacro for Modular URDF",id:"using-xacro-for-modular-urdf",level:2},{value:"Basic Xacro Example",id:"basic-xacro-example",level:3},{value:"Converting Xacro to URDF",id:"converting-xacro-to-urdf",level:3},{value:"Visualizing URDF in RViz",id:"visualizing-urdf-in-rviz",level:2},{value:"Launch File for Visualization",id:"launch-file-for-visualization",level:3},{value:"Running the Visualization",id:"running-the-visualization",level:3},{value:"URDF Best Practices for Humanoids",id:"urdf-best-practices-for-humanoids",level:2},{value:"\u2705 DO:",id:"-do",level:3},{value:"\u274c DON&#39;T:",id:"-dont",level:3},{value:"Validating Your URDF",id:"validating-your-urdf",level:2},{value:"Command-Line Validation",id:"command-line-validation",level:3},{value:"Common URDF Errors",id:"common-urdf-errors",level:3},{value:"Integration with Gazebo",id:"integration-with-gazebo",level:2},{value:"Hands-On Exercise",id:"hands-on-exercise",level:2},{value:"Summary",id:"summary",level:2},{value:"Further Reading",id:"further-reading",level:2}];function c(n){const r={a:"a",blockquote:"blockquote",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",pre:"pre",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,s.R)(),...n.components};return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)(r.header,{children:(0,l.jsx)(r.h1,{id:"urdf-for-humanoid-robots",children:"URDF for Humanoid Robots"})}),"\n",(0,l.jsx)(r.h2,{id:"introduction",children:"Introduction"}),"\n",(0,l.jsxs)(r.p,{children:["The ",(0,l.jsx)(r.strong,{children:"Unified Robot Description Format (URDF)"})," is an XML-based format used in ROS to describe the physical structure of a robot. For humanoid robots, URDF defines the kinematic chain from the torso through the limbs, specifying joints, links, sensors, and visual/collision properties. Mastering URDF is essential for simulation, visualization, and control of humanoid systems."]}),"\n",(0,l.jsx)(r.h2,{id:"urdf-structure-overview",children:"URDF Structure Overview"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-mermaid",children:'graph TD\r\n    subgraph "Humanoid URDF Structure"\r\n        ROOT[base_link / torso] --\x3e HEAD[head_link]\r\n        ROOT --\x3e LA[left_shoulder]\r\n        LA --\x3e LE[left_elbow]\r\n        LE --\x3e LH[left_hand]\r\n        ROOT --\x3e RA[right_shoulder]\r\n        RA --\x3e RE[right_elbow]\r\n        RE --\x3e RH[right_hand]\r\n        ROOT --\x3e LH1[left_hip]\r\n        LH1 --\x3e LK[left_knee]\r\n        LK --\x3e LF[left_foot]\r\n        ROOT --\x3e RH1[right_hip]\r\n        RH1 --\x3e RK[right_knee]\r\n        RK --\x3e RF[right_foot]\r\n    end\n'})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"core-urdf-elements",children:"Core URDF Elements"}),"\n",(0,l.jsx)(r.h3,{id:"1-links-rigid-bodies",children:"1. Links (Rigid Bodies)"}),"\n",(0,l.jsx)(r.p,{children:"Links represent rigid body parts of the robot. Each link can have:"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"Visual"}),": How the link appears (meshes, colors)"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"Collision"}),": Simplified geometry for collision detection"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.strong,{children:"Inertial"}),": Mass and inertia properties for physics simulation"]}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<link name="torso">\r\n  \x3c!-- Visual representation --\x3e\r\n  <visual>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.3 0.2 0.5"/>\r\n    </geometry>\r\n    <material name="blue">\r\n      <color rgba="0.2 0.2 0.8 1.0"/>\r\n    </material>\r\n  </visual>\r\n  \r\n  \x3c!-- Collision geometry (usually simpler than visual) --\x3e\r\n  <collision>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <geometry>\r\n      <box size="0.3 0.2 0.5"/>\r\n    </geometry>\r\n  </collision>\r\n  \r\n  \x3c!-- Inertial properties for physics simulation --\x3e\r\n  <inertial>\r\n    <origin xyz="0 0 0" rpy="0 0 0"/>\r\n    <mass value="15.0"/>\r\n    <inertia ixx="0.5" ixy="0.0" ixz="0.0"\r\n             iyy="0.5" iyz="0.0"\r\n             izz="0.3"/>\r\n  </inertial>\r\n</link>\n'})}),"\n",(0,l.jsx)(r.h3,{id:"2-joints-connections-between-links",children:"2. Joints (Connections Between Links)"}),"\n",(0,l.jsx)(r.p,{children:"Joints define how links are connected and can move relative to each other."}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Joint Types:"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"fixed"}),": No movement (e.g., torso to sensor mount)"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"revolute"}),": Rotation around axis with limits (e.g., elbow, knee)"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"continuous"}),": Unlimited rotation (e.g., wheel)"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"prismatic"}),": Linear motion (e.g., telescoping arm)"]}),"\n"]}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<joint name="left_shoulder_joint" type="revolute">\r\n  \x3c!-- Parent link (fixed reference) --\x3e\r\n  <parent link="torso"/>\r\n  \r\n  \x3c!-- Child link (moves relative to parent) --\x3e\r\n  <child link="left_upper_arm"/>\r\n  \r\n  \x3c!-- Joint origin relative to parent --\x3e\r\n  <origin xyz="0.0 0.15 0.2" rpy="0 0 0"/>\r\n  \r\n  \x3c!-- Axis of rotation --\x3e\r\n  <axis xyz="0 1 0"/>\r\n  \r\n  \x3c!-- Joint limits (in radians) --\x3e\r\n  <limit effort="100.0" velocity="2.0" lower="-1.57" upper="1.57"/>\r\n  \r\n  \x3c!-- Joint dynamics --\x3e\r\n  <dynamics damping="0.7" friction="0.0"/>\r\n</joint>\n'})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"complete-humanoid-urdf-example",children:"Complete Humanoid URDF Example"}),"\n",(0,l.jsx)(r.p,{children:"Let's build a simplified humanoid robot step by step."}),"\n",(0,l.jsx)(r.h3,{id:"step-1-define-the-base-link-torso",children:"Step 1: Define the Base Link (Torso)"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot name="simple_humanoid">\r\n  \r\n  \x3c!-- Base link: Torso --\x3e\r\n  <link name="base_link">\r\n    <visual>\r\n      <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n      <material name="blue">\r\n        <color rgba="0.2 0.2 0.8 1.0"/>\r\n      </material>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.3 0.2 0.5"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n      <mass value="15.0"/>\r\n      <inertia ixx="0.5" ixy="0.0" ixz="0.0"\r\n               iyy="0.5" iyz="0.0"\r\n               izz="0.3"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n</robot>\n'})}),"\n",(0,l.jsx)(r.h3,{id:"step-2-add-head",children:"Step 2: Add Head"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'  \x3c!-- Head link --\x3e\r\n  <link name="head">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n      <material name="skin">\r\n        <color rgba="0.9 0.7 0.6 1.0"/>\r\n      </material>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <sphere radius="0.1"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="2.0"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0"\r\n               izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Neck joint (fixed for simplicity) --\x3e\r\n  <joint name="neck_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="head"/>\r\n    <origin xyz="0 0 0.6" rpy="0 0 0"/>\r\n  </joint>\n'})}),"\n",(0,l.jsx)(r.h3,{id:"step-3-add-arms-left-arm-example",children:"Step 3: Add Arms (Left Arm Example)"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'  \x3c!-- Left Upper Arm --\x3e\r\n  <link name="left_upper_arm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.3"/>\r\n      </geometry>\r\n      <material name="gray">\r\n        <color rgba="0.5 0.5 0.5 1.0"/>\r\n      </material>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 -0.15" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.04" length="0.3"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="1.5"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0"\r\n               izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Shoulder Joint --\x3e\r\n  <joint name="left_shoulder_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="left_upper_arm"/>\r\n    <origin xyz="0.0 0.15 0.4" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit effort="50.0" velocity="2.0" lower="-1.57" upper="1.57"/>\r\n    <dynamics damping="0.7"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Forearm --\x3e\r\n  <link name="left_forearm">\r\n    <visual>\r\n      <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.03" length="0.25"/>\r\n      </geometry>\r\n      <material name="gray"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 -0.125" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.03" length="0.25"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.005" ixy="0.0" ixz="0.0"\r\n               iyy="0.005" iyz="0.0"\r\n               izz="0.0005"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Elbow Joint --\x3e\r\n  <joint name="left_elbow_joint" type="revolute">\r\n    <parent link="left_upper_arm"/>\r\n    <child link="left_forearm"/>\r\n    <origin xyz="0 0 -0.3" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit effort="30.0" velocity="2.0" lower="0.0" upper="2.5"/>\r\n    <dynamics damping="0.5"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Hand --\x3e\r\n  <link name="left_hand">\r\n    <visual>\r\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.08 0.06 0.1"/>\r\n      </geometry>\r\n      <material name="skin"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 -0.05" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.08 0.06 0.1"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="0.3"/>\r\n      <inertia ixx="0.001" ixy="0.0" ixz="0.0"\r\n               iyy="0.001" iyz="0.0"\r\n               izz="0.001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Wrist Joint --\x3e\r\n  <joint name="left_wrist_joint" type="fixed">\r\n    <parent link="left_forearm"/>\r\n    <child link="left_hand"/>\r\n    <origin xyz="0 0 -0.25" rpy="0 0 0"/>\r\n  </joint>\n'})}),"\n",(0,l.jsx)(r.h3,{id:"step-4-add-legs-left-leg-example",children:"Step 4: Add Legs (Left Leg Example)"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'  \x3c!-- Left Thigh --\x3e\r\n  <link name="left_thigh">\r\n    <visual>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.06" length="0.4"/>\r\n      </geometry>\r\n      <material name="gray"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 -0.2" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.06" length="0.4"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="5.0"/>\r\n      <inertia ixx="0.05" ixy="0.0" ixz="0.0"\r\n               iyy="0.05" iyz="0.0"\r\n               izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Hip Joint --\x3e\r\n  <joint name="left_hip_joint" type="revolute">\r\n    <parent link="base_link"/>\r\n    <child link="left_thigh"/>\r\n    <origin xyz="0.0 0.1 0.0" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit effort="150.0" velocity="1.5" lower="-0.5" upper="2.0"/>\r\n    <dynamics damping="1.0"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Shin --\x3e\r\n  <link name="left_shin">\r\n    <visual>\r\n      <origin xyz="0 0 -0.175" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.35"/>\r\n      </geometry>\r\n      <material name="gray"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 -0.175" rpy="0 0 0"/>\r\n      <geometry>\r\n        <cylinder radius="0.05" length="0.35"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="3.0"/>\r\n      <inertia ixx="0.03" ixy="0.0" ixz="0.0"\r\n               iyy="0.03" iyz="0.0"\r\n               izz="0.005"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Knee Joint --\x3e\r\n  <joint name="left_knee_joint" type="revolute">\r\n    <parent link="left_thigh"/>\r\n    <child link="left_shin"/>\r\n    <origin xyz="0 0 -0.4" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit effort="100.0" velocity="1.5" lower="-2.5" upper="0.0"/>\r\n    <dynamics damping="0.8"/>\r\n  </joint>\r\n  \r\n  \x3c!-- Left Foot --\x3e\r\n  <link name="left_foot">\r\n    <visual>\r\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.05"/>\r\n      </geometry>\r\n      <material name="black">\r\n        <color rgba="0.1 0.1 0.1 1.0"/>\r\n      </material>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0.05 0 -0.025" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.2 0.1 0.05"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="1.0"/>\r\n      <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n               iyy="0.01" iyz="0.0"\r\n               izz="0.01"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Left Ankle Joint --\x3e\r\n  <joint name="left_ankle_joint" type="revolute">\r\n    <parent link="left_shin"/>\r\n    <child link="left_foot"/>\r\n    <origin xyz="0 0 -0.35" rpy="0 0 0"/>\r\n    <axis xyz="0 1 0"/>\r\n    <limit effort="50.0" velocity="1.0" lower="-0.5" upper="0.5"/>\r\n    <dynamics damping="0.5"/>\r\n  </joint>\n'})}),"\n",(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsx)(r.p,{children:"[!NOTE]\r\nThe right arm and right leg would follow the same pattern with mirrored Y-axis positions. For brevity, they're omitted here but should be included in a complete URDF."}),"\n"]}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"adding-sensors-to-urdf",children:"Adding Sensors to URDF"}),"\n",(0,l.jsx)(r.h3,{id:"camera-sensor",children:"Camera Sensor"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'  \x3c!-- Camera Link --\x3e\r\n  <link name="camera_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.02 0.05 0.02"/>\r\n      </geometry>\r\n      <material name="black"/>\r\n    </visual>\r\n    \r\n    <collision>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.02 0.05 0.02"/>\r\n      </geometry>\r\n    </collision>\r\n    \r\n    <inertial>\r\n      <mass value="0.1"/>\r\n      <inertia ixx="0.0001" ixy="0.0" ixz="0.0"\r\n               iyy="0.0001" iyz="0.0"\r\n               izz="0.0001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- Camera Joint (attached to head) --\x3e\r\n  <joint name="camera_joint" type="fixed">\r\n    <parent link="head"/>\r\n    <child link="camera_link"/>\r\n    <origin xyz="0.08 0 0" rpy="0 0 0"/>\r\n  </joint>\n'})}),"\n",(0,l.jsx)(r.h3,{id:"imu-sensor",children:"IMU Sensor"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'  \x3c!-- IMU Link --\x3e\r\n  <link name="imu_link">\r\n    <visual>\r\n      <origin xyz="0 0 0" rpy="0 0 0"/>\r\n      <geometry>\r\n        <box size="0.02 0.02 0.01"/>\r\n      </geometry>\r\n      <material name="green">\r\n        <color rgba="0.0 0.8 0.0 1.0"/>\r\n      </material>\r\n    </visual>\r\n    \r\n    <inertial>\r\n      <mass value="0.01"/>\r\n      <inertia ixx="0.00001" ixy="0.0" ixz="0.0"\r\n               iyy="0.00001" iyz="0.0"\r\n               izz="0.00001"/>\r\n    </inertial>\r\n  </link>\r\n  \r\n  \x3c!-- IMU Joint (attached to torso) --\x3e\r\n  <joint name="imu_joint" type="fixed">\r\n    <parent link="base_link"/>\r\n    <child link="imu_link"/>\r\n    <origin xyz="0 0 0.25" rpy="0 0 0"/>\r\n  </joint>\n'})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"calculating-inertial-properties",children:"Calculating Inertial Properties"}),"\n",(0,l.jsx)(r.p,{children:"Accurate inertial properties are crucial for realistic physics simulation."}),"\n",(0,l.jsx)(r.h3,{id:"mass-distribution-guidelines",children:"Mass Distribution Guidelines"}),"\n",(0,l.jsxs)(r.table,{children:[(0,l.jsx)(r.thead,{children:(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.th,{children:"Body Part"}),(0,l.jsx)(r.th,{children:"Typical Mass (70kg humanoid)"})]})}),(0,l.jsxs)(r.tbody,{children:[(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Torso"}),(0,l.jsx)(r.td,{children:"15-20 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Head"}),(0,l.jsx)(r.td,{children:"2-3 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Upper Arm"}),(0,l.jsx)(r.td,{children:"1.5-2 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Forearm"}),(0,l.jsx)(r.td,{children:"1-1.5 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Hand"}),(0,l.jsx)(r.td,{children:"0.3-0.5 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Thigh"}),(0,l.jsx)(r.td,{children:"4-6 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Shin"}),(0,l.jsx)(r.td,{children:"2-4 kg"})]}),(0,l.jsxs)(r.tr,{children:[(0,l.jsx)(r.td,{children:"Foot"}),(0,l.jsx)(r.td,{children:"0.8-1.2 kg"})]})]})]}),"\n",(0,l.jsx)(r.h3,{id:"inertia-tensor-formulas",children:"Inertia Tensor Formulas"}),"\n",(0,l.jsx)(r.p,{children:"For common shapes:"}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Box (dimensions: x, y, z):"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"Ixx = (1/12) * m * (y\xb2 + z\xb2)\r\nIyy = (1/12) * m * (x\xb2 + z\xb2)\r\nIzz = (1/12) * m * (x\xb2 + y\xb2)\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Cylinder (radius: r, length: l, axis along z):"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"Ixx = Iyy = (1/12) * m * (3r\xb2 + l\xb2)\r\nIzz = (1/2) * m * r\xb2\n"})}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Sphere (radius: r):"})}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{children:"Ixx = Iyy = Izz = (2/5) * m * r\xb2\n"})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"using-xacro-for-modular-urdf",children:"Using Xacro for Modular URDF"}),"\n",(0,l.jsx)(r.p,{children:"Xacro (XML Macros) allows you to create reusable, parameterized URDF components."}),"\n",(0,l.jsx)(r.h3,{id:"basic-xacro-example",children:"Basic Xacro Example"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<?xml version="1.0"?>\r\n<robot xmlns:xacro="http://www.ros.org/wiki/xacro" name="humanoid">\r\n  \r\n  \x3c!-- Define constants --\x3e\r\n  <xacro:property name="arm_length" value="0.3"/>\r\n  <xacro:property name="arm_radius" value="0.04"/>\r\n  <xacro:property name="arm_mass" value="1.5"/>\r\n  \r\n  \x3c!-- Macro for creating an arm --\x3e\r\n  <xacro:macro name="arm" params="prefix reflect">\r\n    <link name="${prefix}_upper_arm">\r\n      <visual>\r\n        <origin xyz="0 0 ${-arm_length/2}" rpy="0 0 0"/>\r\n        <geometry>\r\n          <cylinder radius="${arm_radius}" length="${arm_length}"/>\r\n        </geometry>\r\n      </visual>\r\n      \r\n      <inertial>\r\n        <mass value="${arm_mass}"/>\r\n        <inertia ixx="0.01" ixy="0.0" ixz="0.0"\r\n                 iyy="0.01" iyz="0.0"\r\n                 izz="0.001"/>\r\n      </inertial>\r\n    </link>\r\n    \r\n    <joint name="${prefix}_shoulder_joint" type="revolute">\r\n      <parent link="base_link"/>\r\n      <child link="${prefix}_upper_arm"/>\r\n      <origin xyz="0.0 ${reflect*0.15} 0.4" rpy="0 0 0"/>\r\n      <axis xyz="0 1 0"/>\r\n      <limit effort="50.0" velocity="2.0" lower="-1.57" upper="1.57"/>\r\n    </joint>\r\n  </xacro:macro>\r\n  \r\n  \x3c!-- Use the macro for both arms --\x3e\r\n  <xacro:arm prefix="left" reflect="1"/>\r\n  <xacro:arm prefix="right" reflect="-1"/>\r\n  \r\n</robot>\n'})}),"\n",(0,l.jsx)(r.h3,{id:"converting-xacro-to-urdf",children:"Converting Xacro to URDF"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Convert xacro to URDF\r\nxacro humanoid.urdf.xacro > humanoid.urdf\r\n\r\n# Or use in launch file directly\r\nros2 launch robot_description display.launch.py model:=humanoid.urdf.xacro\n"})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"visualizing-urdf-in-rviz",children:"Visualizing URDF in RViz"}),"\n",(0,l.jsx)(r.h3,{id:"launch-file-for-visualization",children:"Launch File for Visualization"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-python",children:"# display.launch.py\r\nfrom launch import LaunchDescription\r\nfrom launch_ros.actions import Node\r\nfrom launch.substitutions import Command\r\nimport os\r\nfrom ament_index_python.packages import get_package_share_directory\r\n\r\ndef generate_launch_description():\r\n    urdf_file = os.path.join(\r\n        get_package_share_directory('my_robot_description'),\r\n        'urdf',\r\n        'humanoid.urdf'\r\n    )\r\n    \r\n    return LaunchDescription([\r\n        # Robot State Publisher\r\n        Node(\r\n            package='robot_state_publisher',\r\n            executable='robot_state_publisher',\r\n            name='robot_state_publisher',\r\n            parameters=[{'robot_description': Command(['cat ', urdf_file])}]\r\n        ),\r\n        \r\n        # Joint State Publisher GUI\r\n        Node(\r\n            package='joint_state_publisher_gui',\r\n            executable='joint_state_publisher_gui',\r\n            name='joint_state_publisher_gui'\r\n        ),\r\n        \r\n        # RViz\r\n        Node(\r\n            package='rviz2',\r\n            executable='rviz2',\r\n            name='rviz2',\r\n            arguments=['-d', os.path.join(\r\n                get_package_share_directory('my_robot_description'),\r\n                'rviz',\r\n                'humanoid.rviz'\r\n            )]\r\n        )\r\n    ])\n"})}),"\n",(0,l.jsx)(r.h3,{id:"running-the-visualization",children:"Running the Visualization"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Launch the visualization\r\nros2 launch my_robot_description display.launch.py\r\n\r\n# Check the robot description\r\nros2 param get /robot_state_publisher robot_description\r\n\r\n# Verify TF tree\r\nros2 run tf2_tools view_frames\n"})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"urdf-best-practices-for-humanoids",children:"URDF Best Practices for Humanoids"}),"\n",(0,l.jsx)(r.h3,{id:"-do",children:"\u2705 DO:"}),"\n",(0,l.jsxs)(r.ol,{children:["\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Use consistent naming conventions"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"left_*"})," and ",(0,l.jsx)(r.code,{children:"right_*"})," for bilateral symmetry"]}),"\n",(0,l.jsxs)(r.li,{children:[(0,l.jsx)(r.code,{children:"*_joint"})," for joints, ",(0,l.jsx)(r.code,{children:"*_link"})," for links"]}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Set realistic inertial properties"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Calculate proper mass distribution"}),"\n",(0,l.jsx)(r.li,{children:"Use accurate inertia tensors"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Define appropriate joint limits"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Match human anatomical constraints"}),"\n",(0,l.jsx)(r.li,{children:"Add safety margins for control"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Use Xacro for modularity"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Create macros for repeated structures"}),"\n",(0,l.jsx)(r.li,{children:"Parameterize dimensions and properties"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Include collision geometry"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Simplified shapes for performance"}),"\n",(0,l.jsx)(r.li,{children:"Avoid self-collisions in default pose"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.h3,{id:"-dont",children:"\u274c DON'T:"}),"\n",(0,l.jsxs)(r.ol,{children:["\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Don't use zero mass"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Causes physics simulation errors"}),"\n",(0,l.jsx)(r.li,{children:"Minimum mass: 0.001 kg"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Don't create kinematic loops"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"URDF only supports tree structures"}),"\n",(0,l.jsx)(r.li,{children:"Use constraints in simulation instead"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Don't ignore joint dynamics"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Add damping and friction"}),"\n",(0,l.jsx)(r.li,{children:"Prevents unrealistic oscillations"}),"\n"]}),"\n"]}),"\n",(0,l.jsxs)(r.li,{children:["\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Don't use overly complex collision meshes"})}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"Slows down simulation significantly"}),"\n",(0,l.jsx)(r.li,{children:"Use primitive shapes when possible"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"validating-your-urdf",children:"Validating Your URDF"}),"\n",(0,l.jsx)(r.h3,{id:"command-line-validation",children:"Command-Line Validation"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-bash",children:"# Check URDF syntax\r\ncheck_urdf humanoid.urdf\r\n\r\n# Visualize URDF structure\r\nurdf_to_graphiz humanoid.urdf\r\n\r\n# View the generated graph\r\nevince humanoid.pdf\n"})}),"\n",(0,l.jsx)(r.h3,{id:"common-urdf-errors",children:"Common URDF Errors"}),"\n",(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsxs)(r.p,{children:["[!WARNING]\r\n",(0,l.jsx)(r.strong,{children:"Error:"}),' "link has no inertia"']}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solution:"})," Add ",(0,l.jsx)(r.code,{children:"<inertial>"})," block with mass and inertia tensor"]}),"\n"]}),"\n",(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsxs)(r.p,{children:["[!WARNING]\r\n",(0,l.jsx)(r.strong,{children:"Error:"}),' "joint limit min > max"']}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solution:"})," Ensure ",(0,l.jsx)(r.code,{children:"lower"})," < ",(0,l.jsx)(r.code,{children:"upper"})," in joint limits"]}),"\n"]}),"\n",(0,l.jsxs)(r.blockquote,{children:["\n",(0,l.jsxs)(r.p,{children:["[!WARNING]\r\n",(0,l.jsx)(r.strong,{children:"Error:"}),' "parent link not found"']}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Solution:"})," Define parent link before referencing it in joint"]}),"\n"]}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"integration-with-gazebo",children:"Integration with Gazebo"}),"\n",(0,l.jsx)(r.p,{children:"To use your URDF in Gazebo, add Gazebo-specific tags:"}),"\n",(0,l.jsx)(r.pre,{children:(0,l.jsx)(r.code,{className:"language-xml",children:'<gazebo reference="left_foot">\r\n  <material>Gazebo/Black</material>\r\n  <mu1>0.9</mu1>  \x3c!-- Friction coefficient --\x3e\r\n  <mu2>0.9</mu2>\r\n  <kp>1000000.0</kp>  \x3c!-- Contact stiffness --\x3e\r\n  <kd>1.0</kd>  \x3c!-- Contact damping --\x3e\r\n</gazebo>\n'})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"hands-on-exercise",children:"Hands-On Exercise"}),"\n",(0,l.jsxs)(r.p,{children:[(0,l.jsx)(r.strong,{children:"Challenge:"})," Create a complete humanoid URDF with:"]}),"\n",(0,l.jsxs)(r.ol,{children:["\n",(0,l.jsx)(r.li,{children:"Torso, head, two arms, two legs"}),"\n",(0,l.jsx)(r.li,{children:"At least 12 degrees of freedom (joints)"}),"\n",(0,l.jsx)(r.li,{children:"Camera and IMU sensors"}),"\n",(0,l.jsx)(r.li,{children:"Proper inertial properties"}),"\n",(0,l.jsx)(r.li,{children:"Visualize in RViz"}),"\n",(0,l.jsx)(r.li,{children:"Test in Gazebo"}),"\n"]}),"\n",(0,l.jsx)(r.p,{children:(0,l.jsx)(r.strong,{children:"Solution template provided in the labs directory."})}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"summary",children:"Summary"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:"URDF defines robot structure using links and joints"}),"\n",(0,l.jsx)(r.li,{children:"Links have visual, collision, and inertial properties"}),"\n",(0,l.jsx)(r.li,{children:"Joints connect links with specified motion constraints"}),"\n",(0,l.jsx)(r.li,{children:"Xacro enables modular, parameterized robot descriptions"}),"\n",(0,l.jsx)(r.li,{children:"Proper inertial properties are crucial for realistic simulation"}),"\n",(0,l.jsx)(r.li,{children:"Validation tools help catch errors early"}),"\n"]}),"\n",(0,l.jsx)(r.p,{children:"In the next chapter, we'll learn how to build complete ROS 2 packages to organize our robot code and URDF files."}),"\n",(0,l.jsx)(r.hr,{}),"\n",(0,l.jsx)(r.h2,{id:"further-reading",children:"Further Reading"}),"\n",(0,l.jsxs)(r.ul,{children:["\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"http://wiki.ros.org/urdf/Tutorials",children:"URDF Tutorials"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"http://wiki.ros.org/xacro",children:"Xacro Documentation"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"https://github.com/ros/robot_state_publisher",children:"Robot State Publisher"})}),"\n",(0,l.jsx)(r.li,{children:(0,l.jsx)(r.a,{href:"http://gazebosim.org/tutorials?tut=ros_urdf",children:"Gazebo URDF Extensions"})}),"\n"]})]})}function h(n={}){const{wrapper:r}={...(0,s.R)(),...n.components};return r?(0,l.jsx)(r,{...n,children:(0,l.jsx)(c,{...n})}):c(n)}},8453:(n,r,e)=>{e.d(r,{R:()=>o,x:()=>t});var i=e(6540);const l={},s=i.createContext(l);function o(n){const r=i.useContext(s);return i.useMemo(function(){return"function"==typeof n?n(r):{...r,...n}},[r,n])}function t(n){let r;return r=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:o(n.components),i.createElement(s.Provider,{value:r},n.children)}}}]);